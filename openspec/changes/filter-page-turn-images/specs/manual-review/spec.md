## MODIFIED Requirements

### Requirement: 图片预览和选择
系统必须（MUST）在转换完成后展示所有提取的图片，允许用户进行选择，并只下载选中的图片。系统必须（MUST）支持识别和过滤翻页图片。

#### Scenario: 展示图片列表
- **WHEN** 转换任务完成
- **THEN** 系统展示所有提取的图片
- **AND** 图片以网格布局显示
- **AND** 每张图片显示为缩略图
- **AND** 图片按文件名顺序排列
- **AND** 系统自动检测并标记翻页图片

#### Scenario: 选择图片
- **WHEN** 用户勾选图片的复选框
- **THEN** 该图片被标记为选中
- **AND** 更新选择计数显示
- **AND** 选中的图片有视觉反馈（如边框高亮）

#### Scenario: 全选/全不选
- **WHEN** 用户点击全选按钮
- **THEN** 所有可见的图片被选中（不包括被过滤隐藏的图片）
- **AND** 选择计数更新为可见图片总数

- **WHEN** 用户点击全不选按钮
- **THEN** 所有图片取消选中
- **AND** 选择计数更新为0

#### Scenario: 显示选择状态
- **WHEN** 用户选择或取消选择图片
- **THEN** 系统显示当前选中的图片数量
- **AND** 显示格式如"已选择 X / Y 张"（Y为可见图片数量）

#### Scenario: 下载选中图片
- **WHEN** 用户点击下载按钮
- **AND** 有图片被选中
- **THEN** 系统只打包选中的图片
- **AND** 生成ZIP文件供用户下载
- **AND** ZIP文件只包含选中的图片

#### Scenario: 无选择时下载
- **WHEN** 用户点击下载按钮
- **AND** 没有图片被选中
- **THEN** 系统提示用户至少选择一张图片
- **AND** 不执行下载操作

#### Scenario: 过滤翻页图片
- **WHEN** 用户启用"隐藏翻页图片"选项
- **THEN** 系统隐藏所有被标记为翻页的图片
- **AND** 更新图片网格显示（只显示非翻页图片）
- **AND** 更新选择计数（只统计可见图片）
- **AND** 隐藏的翻页图片不参与全选操作

- **WHEN** 用户禁用"隐藏翻页图片"选项
- **THEN** 系统显示所有图片（包括翻页图片）
- **AND** 更新图片网格显示
- **AND** 更新选择计数

#### Scenario: 翻页图片检测
- **WHEN** 系统加载图片列表
- **THEN** 系统自动检测每张图片是否为翻页图片
- **AND** 检测基于图像特征（如运动模糊、边缘模糊等）
- **AND** 为每张图片标记翻页状态
- **AND** 在统计信息中显示翻页图片数量

#### Scenario: 翻页图片统计
- **WHEN** 转换任务完成
- **THEN** 系统显示翻页图片统计信息
- **AND** 包括总图片数、翻页图片数、非翻页图片数
- **AND** 统计信息在结果区域显示
