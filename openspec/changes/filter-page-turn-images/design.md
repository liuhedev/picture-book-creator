## Context
在视频转图片的场景中，特别是从电子书或翻页视频中提取图片时，会包含大量翻页动画的中间帧。这些帧通常显示的是翻页过程中的模糊状态或过渡效果，不是最终需要的静态内容。用户希望在质检界面中能够自动识别并过滤掉这些翻页图片。

## Goals / Non-Goals
- Goals:
  - 自动检测翻页图片
  - 在质检界面中提供过滤选项（显示/隐藏翻页图片）
  - 更新统计信息，显示翻页图片数量
  - 确保过滤不影响选择功能
- Non-Goals:
  - 自动删除翻页图片（只是隐藏，用户仍可选择显示）
  - 编辑或修复翻页图片
  - 其他类型的过渡效果检测（仅关注翻页）

## Decisions
- Decision: 在质检阶段进行检测和过滤，而非提取阶段
- Alternatives considered:
  - 提取阶段检测：可以提前过滤，但需要修改核心提取逻辑，且用户可能想查看被过滤的图片
  - 质检阶段检测：灵活，用户可以选择是否显示，不影响提取逻辑
- Rationale: 质检阶段检测更灵活，用户可以选择是否查看翻页图片，且不影响现有的提取流程

- Decision: 使用图像分析技术检测翻页图片
- Alternatives considered:
  - 运动模糊检测：翻页图片通常有运动模糊特征
  - 边缘检测：翻页过程中的图片边缘可能模糊
  - 相似度分析：翻页图片可能与前一张或后一张高度相似（过渡状态）
  - 组合方法：结合多种特征提高检测准确性
- Rationale: 需要结合多种特征（运动模糊、边缘模糊、相似度）来提高检测准确性

- Decision: 前端管理过滤状态，后端提供检测结果
- Alternatives considered:
  - 后端过滤：每次请求都需要重新计算，性能开销大
  - 前端过滤：检测结果一次性返回，前端控制显示/隐藏
- Rationale: 前端过滤更灵活，性能更好，用户体验更流畅

## Risks / Trade-offs
- 检测准确性 → 需要调优算法参数，可能需要用户反馈机制
- 性能影响 → 检测可能增加处理时间，考虑异步检测或缓存结果
- 误检风险 → 可能将正常图片误判为翻页图片，需要提供手动标记功能（可选）

## Open Questions
- 翻页图片检测的具体算法选择（运动模糊阈值、边缘检测参数等）
- 是否需要在提取阶段就进行检测（当前设计为质检阶段）
- 是否需要提供手动标记功能（用户手动标记某张图片为翻页图片）
